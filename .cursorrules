# ç››ä¸–é•¿å®‰ - Cursor é¡¹ç›®è§„åˆ™

## é¡¹ç›®æ¦‚è¿°
è¿™æ˜¯ä¸€ä¸ªåŸºäº Taro 3.x + React + TypeScript å¼€å‘çš„æ¡Œæ¸¸é¡¹ç›®ï¼Œæ”¯æŒå•æœºæ¨¡å¼ã€å±€åŸŸç½‘è”æœºå’Œå¾®ä¿¡å°ç¨‹åºåœ¨çº¿æ¨¡å¼ã€‚

## æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: Taro 3.x + React 18
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: SCSS
- **æ„å»ºå·¥å…·**: Webpack 5
- **åç«¯**: Node.js + WebSocket (å±€åŸŸç½‘æ¨¡å¼)
- **äº‘å¼€å‘**: å¾®ä¿¡å°ç¨‹åºäº‘å¼€å‘ (åœ¨çº¿æ¨¡å¼)

## æ–‡æ¡£ç®¡ç†è§„èŒƒ âš ï¸
- **é¿å…æ–‡æ¡£æ³›æ»¥**ï¼šå°ä¿®æ”¹å’Œ bug ä¿®å¤ä¸åˆ›å»ºæ–°æ–‡æ¡£
- **ç»Ÿä¸€ä¿®æ”¹æ—¥å¿—**ï¼šæ‰€æœ‰ä¿®æ”¹è®°å½•åˆ° `é¡¹ç›®ä¿®æ”¹æ—¥å¿—.md`
- **ä»…é‡å¤§åŠŸèƒ½åˆ›å»ºæ–‡æ¡£**ï¼šæ–°æ¨¡å—ã€é‡æ„ã€æ¶æ„å˜æ›´æ‰åˆ›å»ºç‹¬ç«‹æ–‡æ¡£

## æ ·å¼å¼€å‘æ ¸å¿ƒåŸåˆ™ âš ï¸ **å¿…è¯»** ğŸ¨

**When styling in this Taro project:**
> "Always check for CSS specificity. If a style change doesn't reflect, analyze the DOM hierarchy. Prefer creating new specific classes over modifying generic ones. Avoid inline styles unless dynamic."

**ç¿»è¯‘ä¸æ‰©å±•ï¼š**

### 1ï¸âƒ£ é€‰æ‹©å™¨ä¼˜å…ˆçº§å£°æ˜
**ä¼˜å…ˆä½¿ç”¨ï¼šå…·ä½“çš„ç±»å > æ ‡ç­¾é€‰æ‹©å™¨**
```scss
// âœ… æœ€ä½³ - å…ƒç´ +ç±»ï¼ˆä¼˜å…ˆçº§é«˜ï¼Œä¸å½±å“å…¶ä»–å…ƒç´ ï¼‰
taro-button-core.my-btn { }

// âš ï¸ å¯ç”¨ - ä»…ç±»åï¼ˆä¼˜å…ˆçº§è¾ƒä½ï¼Œå¯èƒ½è¢«è¦†ç›–ï¼‰
.my-btn { }

// âŒ é¿å… - ä»…æ ‡ç­¾ï¼ˆå½±å“æ‰€æœ‰è¯¥ç±»å‹å…ƒç´ ï¼‰
taro-button-core { }
```

**æ ·å¼è¦†ç›–å¤±è´¥æ—¶ï¼Œæ£€æŸ¥ï¼š**
- âœ… æ˜¯å¦æœ‰å…¨å±€æ ·å¼ï¼ˆ`src/app.scss`ï¼‰è¦†ç›–
- âœ… çˆ¶çº§å®¹å™¨æ˜¯å¦æœ‰é€šç”¨é€‰æ‹©å™¨å½±å“
- âœ… æ˜¯å¦éœ€è¦æé«˜é€‰æ‹©å™¨ä¼˜å…ˆçº§

### 2ï¸âƒ£ é¿å…å†…è”æ ·å¼é™·é˜±
**åŸåˆ™ï¼šä¼˜å…ˆé€šè¿‡ className ä¿®æ”¹ï¼Œè€Œéé¢‘ç¹å¢å‡ `style={{...}}`**

```tsx
// âŒ é”™è¯¯ - é™æ€æ ·å¼ç”¨å†…è”ï¼ˆéš¾ä»¥ç»´æŠ¤ã€ä¼˜å…ˆçº§è¿‡é«˜ï¼‰
<Button style={{
  background: 'red',
  padding: '10px',
  fontSize: '16px'
}}>

// âœ… æ­£ç¡® - é™æ€æ ·å¼ç”¨classï¼ˆæ˜“ç»´æŠ¤ã€å¯å¤ç”¨ï¼‰
<Button className="my-btn">

// âœ… å…è®¸ - åŠ¨æ€è®¡ç®—çš„æ ·å¼
<View style={{
  width: `${dynamicWidth}px`,
  transform: `translateX(${offset}px)`
}}>
```

**ä¸ºä»€ä¹ˆé¿å…å†…è”æ ·å¼ï¼š**
- éš¾ä»¥ç»´æŠ¤ï¼šæ•£è½åœ¨ç»„ä»¶å„å¤„
- ä¼˜å…ˆçº§è¿‡é«˜ï¼šè¦†ç›–classæ ·å¼ï¼Œéš¾ä»¥è°ƒè¯•
- ä¸å¯å¤ç”¨ï¼šæ— æ³•ç»Ÿä¸€ä¿®æ”¹
- æ€§èƒ½å½±å“ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°åˆ›å»ºå¯¹è±¡

### 3ï¸âƒ£ è·¨å¹³å°æ ·å¼æ³¨æ„äº‹é¡¹ï¼ˆé‡è¦ï¼ï¼‰
**âš ï¸ Taro ç¼–è¯‘ä¸ºå¾®ä¿¡å°ç¨‹åºæ—¶ï¼Œéƒ¨åˆ†CSSå±æ€§è¡¨ç°ä¸åŒ**

```scss
// âŒ H5å¯ç”¨ï¼Œå°ç¨‹åºå¯èƒ½å¤±æ•ˆ
.container {
  height: 100vh;  // å°ç¨‹åºä¸æ”¯æŒvh
  width: 50vw;    // å°ç¨‹åºä¸æ”¯æŒvw
}

// âœ… è·¨å¹³å°å…¼å®¹
.container {
  height: 100%;   // ä½¿ç”¨ç™¾åˆ†æ¯”
  width: 750px;   // ä½¿ç”¨å›ºå®šå•ä½ï¼ˆå°ç¨‹åºè®¾è®¡ç¨¿å®½åº¦750pxï¼‰
}
```

**å¸¸è§è·¨å¹³å°å·®å¼‚ï¼š**
1. **å•ä½**ï¼šé¿å… `vh/vw`ï¼Œä½¿ç”¨ `px`ï¼ˆTaroè‡ªåŠ¨è½¬æ¢rpxï¼‰æˆ– `%`
2. **Flexå¸ƒå±€**ï¼šå°ç¨‹åºå¯¹ `flex-shrink: 0` æ”¯æŒè¾ƒå·®ï¼Œå»ºè®®æ˜ç¡®å®½åº¦
3. **æ¸å˜**ï¼šå°ç¨‹åºå¯¹ `linear-gradient` æ”¯æŒæœ‰é™
4. **é˜´å½±**ï¼šå°ç¨‹åº `box-shadow` æ€§èƒ½è¾ƒå·®ï¼Œè°¨æ…ä½¿ç”¨

**æµ‹è¯•å»ºè®®ï¼š**
- æ ·å¼ä¿®æ”¹ååŒæ—¶åœ¨ H5 å’Œå°ç¨‹åºç«¯æµ‹è¯•
- ä½¿ç”¨ `process.env.TARO_ENV` æ¡ä»¶ç¼–è¯‘å·®å¼‚åŒ–æ ·å¼

### 4ï¸âƒ£ æ ·å¼å†²çªæ£€æŸ¥
**é¿å…åœ¨åŒä¸€å…ƒç´ ä¸Šå®šä¹‰å†²çªçš„æ ·å¼**

```scss
// âŒ é”™è¯¯ - åŒä¸€å…ƒç´ ä¸Šçš„å†²çªå®šä¹‰
.my-btn {
  margin-top: 10px;
  padding-top: 20px;
  margin-top: 5px;  // åè€…è¦†ç›–å‰è€…ï¼Œé€ æˆæ··æ·†
}

// âœ… æ­£ç¡® - æ¸…æ™°çš„å•ä¸€å®šä¹‰
.my-btn {
  margin-top: 5px;
  padding-top: 20px;
}
```

**å¤šä¸ªç±»åå†²çªï¼š**
```tsx
// âš ï¸ æ³¨æ„ - å¦‚æœä¸¤ä¸ªç±»å®šä¹‰äº†ç›¸åŒå±æ€§ï¼ŒååŠ è½½çš„ä¼šè¦†ç›–
<Button className="btn-primary btn-large">
// å¦‚æœ btn-primary å’Œ btn-large éƒ½å®šä¹‰äº† paddingï¼Œ
// æœ€ç»ˆç”Ÿæ•ˆå–å†³äº CSS æ–‡ä»¶ä¸­çš„å®šä¹‰é¡ºåº
```

**è§£å†³æ–¹æ¡ˆï¼š**
- ä½¿ç”¨ BEM å‘½åçº¦å®šï¼ˆBlock-Element-Modifierï¼‰
- é¿å…åœ¨å¤šä¸ªç±»ä¸­å®šä¹‰ç›¸åŒå±æ€§
- ä½¿ç”¨å¼€å‘è€…å·¥å…·"Computed"é¢æ¿æ£€æŸ¥æœ€ç»ˆå€¼

## Taro ç»„ä»¶æ ·å¼è§„èŒƒ âš ï¸ é‡è¦ï¼

### ğŸ” æ ·å¼è°ƒè¯•å·¥ä½œæµï¼ˆä¼˜å…ˆé˜…è¯»ï¼‰

**å½“æ ·å¼ä¸ç”Ÿæ•ˆæ—¶ï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š**

**Step 1: æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·**
- å³é”®ç›®æ ‡å…ƒç´  â†’ "æ£€æŸ¥"
- æŸ¥çœ‹"Styles"é¢æ¿ä¸­è¢«åˆ’æ‰çš„æ ·å¼
- æŸ¥çœ‹"Computed"é¢æ¿ï¼Œæ‰¾å‡ºæœ€ç»ˆç”Ÿæ•ˆçš„æ ·å¼åŠå…¶æ¥æº

**Step 2: æ£€æŸ¥DOMå±‚çº§ç»“æ„**
- åœ¨"Elements"é¢æ¿å¤åˆ¶å®é™…çš„HTMLå±‚çº§
- æ¯”å¯¹SCSSé€‰æ‹©å™¨æ˜¯å¦ä¸DOMç»“æ„ä¸€è‡´
- Taroç»„ä»¶ï¼š `<Button>` â†’ `<taro-button-core>`

**Step 3: æé«˜é€‰æ‹©å™¨ä¼˜å…ˆçº§**
```scss
// ä¼˜å…ˆçº§ï¼šä½ â†’ é«˜
.my-btn                                    // 10
taro-button-core.my-btn                   // 11
.container taro-button-core.my-btn        // 21
.container .section taro-button-core.my-btn  // 31
```

**Step 4: ä½¿ç”¨ !importantï¼ˆæœ€åæ‰‹æ®µï¼‰**
- âœ… å…è®¸ï¼šè§†è§‰å±æ€§ï¼ˆbackground, border, colorï¼‰
- âŒ ç¦æ­¢ï¼šå¸ƒå±€å±æ€§ï¼ˆpadding, margin, width, heightï¼‰

---

### é—®é¢˜ï¼šTaro ç»„ä»¶æ ·å¼ä¼˜å…ˆçº§å’Œå¸ƒå±€é—®é¢˜
Taro ç»„ä»¶ï¼ˆå¦‚ `taro-button-core`ã€`taro-input-core`ï¼‰æœ‰é»˜è®¤æ ·å¼ï¼Œå®¹æ˜“å¯¼è‡´å¸ƒå±€é—®é¢˜ï¼š

#### å¸¸è§é—®é¢˜
1. **æŒ‰é’®å æ®æ•´è¡Œå®½åº¦**ï¼šé»˜è®¤æ ·å¼å¯èƒ½è®¾ç½® `width: 100%`
2. **Flex å¸ƒå±€å¤±æ•ˆ**ï¼šä»…ä½¿ç”¨ç±»é€‰æ‹©å™¨ä¼˜å…ˆçº§ä¸å¤Ÿ
3. **æ–‡å­—ä¸å±…ä¸­**ï¼šé»˜è®¤ `line-height` æˆ– `padding` å¯¼è‡´

#### è§£å†³æ–¹æ¡ˆï¼ˆå¿…é¡»éµå¾ªï¼‰

**1. ä½¿ç”¨å…ƒç´ +ç±»é€‰æ‹©å™¨æé«˜ä¼˜å…ˆçº§**
```scss
// âŒ é”™è¯¯ - ä¼˜å…ˆçº§ä¸å¤Ÿ
.my-button {
  width: 160px;
}

// âœ… æ­£ç¡® - ä¼˜å…ˆçº§æ›´é«˜
taro-button-core.my-button {
  width: 160px;
  max-width: 160px;
  min-width: 160px;
}
```

**2. é‡ç½® Taro ç»„ä»¶é»˜è®¤æ ·å¼**
```scss
taro-button-core {
  display: block;
  box-sizing: border-box;
  
  &::after {
    display: none;  // ç§»é™¤ä¼ªå…ƒç´ 
    border: none;
  }
}
```

**âš ï¸ ç¦æ­¢æ»¥ç”¨ !important**
```scss
// âŒ é”™è¯¯ - æ»¥ç”¨ !important
.my-button {
  width: 160px !important;
  height: 80px !important;
  font-size: 32px !important;
}

// âœ… æ­£ç¡® - ä½¿ç”¨æ›´å…·ä½“çš„é€‰æ‹©å™¨æé«˜ä¼˜å…ˆçº§
.lan-lobby-container {
  .room-list {
    taro-button-core.join-room-btn {
      width: 160px;
      height: 80px;
      font-size: 32px;
    }
  }
}
```

**!important ä½¿ç”¨åŸåˆ™**ï¼š
- âŒ ç¦æ­¢ï¼šåœ¨å…¨å±€æ ·å¼ï¼ˆ`src/app.scss`ï¼‰ä¸­æ»¥ç”¨
- âŒ ç¦æ­¢ï¼šç”¨äºå¸ƒå±€å±æ€§ï¼ˆpadding, margin, width, height, displayï¼‰
- âŒ ç¦æ­¢ï¼šè¿ç»­ä½¿ç”¨å¤šä¸ª !important
- âœ… **å…è®¸**ï¼šè¦†ç›– Taro å†…ç½®çš„æ ¸å¿ƒè§†è§‰å±æ€§ï¼ˆbackground, border, colorï¼‰
  ```scss
  taro-button-core.my-btn {
    background: linear-gradient(...) !important;  // âœ… å¿…é¡»è¦†ç›–Taroå†…ç½®æ ·å¼
    border: 2px solid #fff !important;
    color: #fff !important;
    
    padding: 0 30px;  // âŒ ä¸è¦ç”¨ !important
    height: 50px;     // âŒ ä¸è¦ç”¨ !important
  }
  ```
- âœ… å…è®¸ï¼šè¦†ç›– Taro å†…ç½®ä¼ªå…ƒç´ æ ·å¼ï¼ˆ`::after`, `::before`ï¼‰
- âœ… æ›¿ä»£æ–¹æ¡ˆï¼ˆä¼˜å…ˆï¼‰ï¼šæé«˜é€‰æ‹©å™¨ä¼˜å…ˆçº§ã€ä½¿ç”¨æ›´å…·ä½“çš„é€‰æ‹©å™¨

**âš ï¸ å…¨å±€æ ·å¼é‡ç½®çš„è¡€æ³ªæ•™è®­ï¼ˆç»ˆæç‰ˆï¼‰**ï¼š
```scss
// âŒ é”™è¯¯ 1 - ä½¿ç”¨ all: unset + !important
taro-button-core {
  all: unset;
  background: none !important;
  padding: 0 !important;
}

// âŒ é”™è¯¯ 2 - å³ä½¿æ˜¯è½»é‡çº§é‡ç½®ä¹Ÿä¼šå¹²æ‰°å±€éƒ¨æ ·å¼ï¼
taro-button-core {
  display: inline-flex;  // âŒ ä¼šè¦†ç›–å±€éƒ¨çš„ display: flex
  box-sizing: border-box;
  padding: 0 30px;  // âŒ ä¼šè¦†ç›–å±€éƒ¨çš„ padding
}

// âœ… æ­£ç¡® - åªé‡ç½®ä¼ªå…ƒç´ ï¼Œå…¶ä»–éƒ½ä¸ç®¡
taro-button-core {
  // åªé‡ç½®ä¼ªå…ƒç´ ï¼ˆTaroå†…ç½®æ ·å¼ç”¨äº†!importantï¼‰
  &::before,
  &::after {
    display: none !important;
    content: none !important;
    border: none !important;
  }
}

// âœ… åœ¨å±€éƒ¨ä½¿ç”¨ element+class é€‰æ‹©å™¨å®Œå…¨æ§åˆ¶
.my-page {
  taro-button-core.my-btn {
    display: flex;  // å®Œå…¨ç”±å±€éƒ¨æ§åˆ¶
    padding: 0 30px;
    background: linear-gradient(...);
    // ... æ‰€æœ‰æ ·å¼
  }
}
```

**å…³é”®åŸåˆ™**ï¼š
1. **å…¨å±€æ ·å¼ä¸è¦è®¾ç½®ä»»ä½•åŸºç¡€å±æ€§**ï¼ˆdisplay, padding, margin, backgroundç­‰ï¼‰
2. **å…¨å±€æ ·å¼åªé‡ç½®ä¼ªå…ƒç´ **
3. **æ‰€æœ‰å®é™…æ ·å¼éƒ½åœ¨å±€éƒ¨å®šä¹‰**ï¼Œä½¿ç”¨ `element+class` é€‰æ‹©å™¨

**é—®é¢˜è¡¨ç°**ï¼šå¼€å‘è€…å·¥å…·ä¸­çœ‹åˆ°è®¡ç®—æ ·å¼å…¨æ˜¯ `!important` å’Œé»˜è®¤å€¼ï¼Œå±€éƒ¨æ ·å¼å…¨éƒ¨è¢«åˆ’æ‰

**3. æ–‡å­—å‚ç›´å±…ä¸­ï¼ˆé‡è¦ï¼ï¼‰**
```scss
taro-button-core {
  display: flex;           // ä½¿ç”¨ flex
  align-items: center;     // å‚ç›´å±…ä¸­
  justify-content: center; // æ°´å¹³å±…ä¸­
  padding: 0 30px;         // ä»…å·¦å³ padding
  line-height: normal;     // é‡ç½® line-height
  height: 70px;            // å›ºå®šé«˜åº¦
}
```

**4. Flexbox å¸ƒå±€å…³é”®ç‚¹**
```scss
// å›ºå®šå®½åº¦å…ƒç´ 
.fixed-width {
  flex: 0 0 auto;
  width: 160px;
  max-width: 160px;
  min-width: 160px;
}

// è‡ªé€‚åº”å…ƒç´ 
.flexible {
  flex: 1 1 auto;
  min-width: 0;      // âš ï¸ å…³é”®ï¼å…è®¸æ”¶ç¼©
  max-width: none;
}
```

**5. è·¨å¹³å°å…¼å®¹æ€§** âš ï¸ **H5 vs å¾®ä¿¡å°ç¨‹åº**

Taro ç¼–è¯‘åˆ°ä¸åŒå¹³å°æ—¶ï¼ŒCSSè¡¨ç°æœ‰å·®å¼‚ï¼š

```scss
// âŒ å°ç¨‹åºä¸æ”¯æŒæˆ–è¡¨ç°å¼‚å¸¸
.container {
  height: 100vh;  // viewportå•ä½ä¸ç¨³å®š
  width: 50vw;
}

// âœ… è·¨å¹³å°å…¼å®¹å†™æ³•
.container {
  height: 100%;         // ç›¸å¯¹çˆ¶å…ƒç´ 
  min-height: 1000px;   // æˆ–å›ºå®šå•ä½
}
```

**ä¸»è¦å·®å¼‚ï¼š**
- **å•ä½**ï¼šé¿å… `vh/vw`ï¼Œä½¿ç”¨ `px` æˆ– `%`
- **Flex**ï¼šå°ç¨‹åºå¯¹ `flex-shrink: 0` æ”¯æŒè¾ƒå·®ï¼Œæ˜ç¡® `width/min-width`
- **æ¸å˜**ï¼šå°ç¨‹åºæ”¯æŒç®€å•æ¸å˜ï¼Œå¤æ‚æ¸å˜å¯èƒ½å¤±æ•ˆ
- **é˜´å½±**ï¼šå°ç¨‹åº `box-shadow` æ€§èƒ½å·®ï¼Œé¿å…è¿‡å¤šä½¿ç”¨

**6. æ ·å¼å†²çªæ£€æŸ¥**

é¿å…åœ¨ä¸åŒä½ç½®é‡å¤å®šä¹‰ç›¸åŒå±æ€§ï¼š

```scss
// âŒ åŒä¸€é€‰æ‹©å™¨ä¸­é‡å¤å®šä¹‰
.my-btn {
  margin-top: 10px;
  margin-top: 5px;  // è¦†ç›–å‰é¢çš„ï¼Œé€ æˆæ··æ·†
}

// âœ… æ¸…æ™°çš„å•ä¸€å®šä¹‰
.my-btn {
  margin-top: 5px;
}
```

**å¤šä¸ªç±»åå†²çªè­¦å‘Šï¼š**
```tsx
// âš ï¸ å¦‚æœä¸¤ä¸ªç±»éƒ½å®šä¹‰äº† paddingï¼Œæœ€ç»ˆå€¼å–å†³äºCSSé¡ºåº
<Button className="btn-primary btn-large">
```

**è§£å†³æ–¹æ¡ˆï¼š**
- ä½¿ç”¨ BEM å‘½åï¼š`.block__element--modifier`
- é¿å…åœ¨å¤šä¸ªç±»ä¸­å®šä¹‰ç›¸åŒå±æ€§
- ç”¨å¼€å‘è€…å·¥å…·"Computed"éªŒè¯æœ€ç»ˆå€¼

**æ³¨æ„ï¼šæœ¬é¡¹ç›®ä¸ä½¿ç”¨ Tailwind ç­‰åŸå­åŒ–CSSæ¡†æ¶ï¼Œé‡‡ç”¨è¯­ä¹‰åŒ–SCSSã€‚**

**7. è¾“å…¥æ¡†æ ·å¼**
```scss
taro-input-core {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  
  input,
  .weui-input {
    width: 100%;
    box-sizing: border-box;
  }
}
```

## ä»£ç è§„èŒƒ

### TypeScript
- ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
- æ˜ç¡®ç±»å‹å®šä¹‰ï¼Œé¿å… `any`
- ä½¿ç”¨æ¥å£å®šä¹‰æ•°æ®ç»“æ„

### React
- ä½¿ç”¨å‡½æ•°ç»„ä»¶å’Œ Hooks
- åˆç†ä½¿ç”¨ `useEffect` çš„ä¾èµ–æ•°ç»„
- é¿å…åœ¨æ¸²æŸ“ä¸­ä¿®æ”¹çŠ¶æ€

### æ ·å¼
- ä½¿ç”¨ SCSS åµŒå¥—è¯­æ³•
- **å•ä½ç»Ÿä¸€ä½¿ç”¨ px**ï¼ˆé¿å… rpx åœ¨ H5 ç«¯æ˜¾ç¤ºå¼‚å¸¸ï¼‰
- éµå¾ªå”é£ä¸»é¢˜ï¼šé‡‘è‰² `#ffd700`ã€æ¸å˜ã€é˜´å½±

### å‘½åè§„èŒƒ
- ç»„ä»¶æ–‡ä»¶ï¼šPascalCaseï¼ˆå¦‚ `GameBoard.tsx`ï¼‰
- æ™®é€šæ–‡ä»¶ï¼šcamelCaseï¼ˆå¦‚ `gameEngine.ts`ï¼‰
- å¸¸é‡ï¼šUPPER_SNAKE_CASEï¼ˆå¦‚ `MAX_PLAYERS`ï¼‰

## æ¸¸æˆæ¶æ„

### ä¸‰ç§æ¨¡å¼
1. **å•æœºæ¨¡å¼**ï¼šæœ¬åœ°æ¸¸æˆï¼Œæ— ç½‘ç»œé€šä¿¡
2. **å±€åŸŸç½‘æ¨¡å¼**ï¼šWebSocket å®æ—¶é€šä¿¡ï¼ŒæœåŠ¡å™¨æƒå¨
3. **åœ¨çº¿æ¨¡å¼**ï¼šå¾®ä¿¡äº‘å¼€å‘ï¼Œäº‘å‡½æ•° + äº‘æ•°æ®åº“

### å…³é”®æ¨¡å—
- `src/utils/gameEngine.ts`ï¼šå®¢æˆ·ç«¯æ¸¸æˆé€»è¾‘
- `src/utils/settlement.ts`ï¼šç»“ç®—é€»è¾‘
- `server/gameEngine.js`ï¼šæœåŠ¡å™¨ç«¯æ¸¸æˆé€»è¾‘
- `server/lan-server.js`ï¼šWebSocket æœåŠ¡å™¨

## æ ·å¼ä¸»é¢˜

### å”é£é…è‰²
- **ä¸»è‰²é‡‘è‰²**ï¼š`#ffd700`
- **èƒŒæ™¯æ¸å˜**ï¼š`linear-gradient(180deg, #1a1a2e 0%, #16213e 100%)`
- **ç´«è‰²æ¸å˜**ï¼š`linear-gradient(135deg, #667eea 0%, #764ba2 100%)`
- **ç²‰çº¢æ¸å˜**ï¼š`linear-gradient(135deg, #f093fb 0%, #f5576c 100%)`
- **æˆåŠŸè‰²**ï¼š`#4caf50`

### å°ºå¯¸è§„èŒƒ
- é¡µé¢æ ‡é¢˜ï¼š42px
- æˆ¿é—´ä»£ç ï¼š36px
- åˆ—è¡¨æ ‡é¢˜ï¼š32px
- æŒ‰é’®æ–‡å­—ï¼š28px
- è¯¦æƒ…æ–‡å­—ï¼š24px

## å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 1. Taro ç»„ä»¶æ ·å¼ä¸ç”Ÿæ•ˆ
- ä½¿ç”¨ `taro-xxx-core.class-name` é€‰æ‹©å™¨
- æ·»åŠ  `!important`ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
- æ£€æŸ¥æ˜¯å¦æœ‰ `::after` ä¼ªå…ƒç´ å¹²æ‰°

### 2. Flexbox å¸ƒå±€å¼‚å¸¸
- ç¡®ä¿ `min-width: 0` å…è®¸æ”¶ç¼©
- å›ºå®šå®½åº¦å…ƒç´ ä½¿ç”¨ `flex: 0 0 auto`
- è‡ªé€‚åº”å…ƒç´ ä½¿ç”¨ `flex: 1 1 auto`

### 3. æ–‡å­—ä¸å±…ä¸­
- ä½¿ç”¨ `display: flex` + `align-items: center`
- é‡ç½® `line-height: normal`
- é¿å…ä½¿ç”¨ `line-height` æ§åˆ¶é«˜åº¦

### 4. WebSocket è¿æ¥é—®é¢˜
- æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œï¼š`npm run lan:server`
- æ£€æŸ¥ IP å’Œç«¯å£æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

## Git æäº¤è§„èŒƒ

### æäº¤æ¶ˆæ¯æ ¼å¼
```
<type>: <subject>

<body>
```

### Type ç±»å‹
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `style`: æ ·å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `docs`: æ–‡æ¡£æ›´æ–°
- `chore`: æ„å»º/å·¥å…·é“¾æ›´æ–°

### ç¤ºä¾‹
```
fix: ä¿®å¤å¤§å…æŒ‰é’®å¸ƒå±€é”™ä¹±

- ä½¿ç”¨ taro-button-core.class-name æé«˜ä¼˜å…ˆçº§
- æ·»åŠ  width/max-width/min-width é™åˆ¶
- è¾“å…¥æ¡†ä½¿ç”¨ flex: 1 1 auto è‡ªé€‚åº”
```

## å¼€å‘æµç¨‹

### å¼€å‘ç¯å¢ƒå¯åŠ¨
```bash
# H5 å¼€å‘
npm run dev:h5

# å¾®ä¿¡å°ç¨‹åºå¼€å‘
npm run dev:weapp

# å±€åŸŸç½‘æœåŠ¡å™¨
npm run lan:server
```

### è°ƒè¯•æŠ€å·§
1. ä½¿ç”¨ Chrome DevTools æ£€æŸ¥æ ·å¼
2. ä½¿ç”¨ `console.log` è°ƒè¯•é€»è¾‘
3. ä½¿ç”¨ React DevTools æ£€æŸ¥ç»„ä»¶çŠ¶æ€
4. ä½¿ç”¨ Network é¢æ¿æ£€æŸ¥ WebSocket é€šä¿¡

## æ³¨æ„äº‹é¡¹

### âš ï¸ é‡è¦æé†’
1. **ä¿®æ”¹æ ·å¼å¿…é¡»åˆ·æ–°é¡µé¢**ï¼ˆCtrl/Cmd + Shift + Rï¼‰
2. **ä¿®æ”¹æœåŠ¡å™¨ä»£ç å¿…é¡»é‡å¯æœåŠ¡å™¨**
3. **å°ä¿®æ”¹è®°å½•åˆ° `é¡¹ç›®ä¿®æ”¹æ—¥å¿—.md`**
4. **Taro ç»„ä»¶å¿…é¡»ä½¿ç”¨å…ƒç´ é€‰æ‹©å™¨**
5. **å•ä½ç»Ÿä¸€ä½¿ç”¨ pxï¼Œé¿å… rpx**

### ğŸ“ æ–‡æ¡£è§„èŒƒ
- é‡å¤§åŠŸèƒ½ï¼šåˆ›å»ºç‹¬ç«‹æ–‡æ¡£
- å°ä¿®æ”¹ï¼šè®°å½•åˆ° `é¡¹ç›®ä¿®æ”¹æ—¥å¿—.md`
- æ¶æ„å˜æ›´ï¼šæ›´æ–°æœ¬æ–‡æ¡£

---

**æœ€åæ›´æ–°**ï¼š2026-01-22
